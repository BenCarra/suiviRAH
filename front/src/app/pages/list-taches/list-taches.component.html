<h1 >Liste des tâches</h1>

<div class="filtre-container">
  <mat-form-field>
    <mat-label>Filtre par semaine</mat-label>
    <mat-select [(value)]="selectedWeek" (selectionChange)="updateTachesForWeek2(selectedWeek)">
      <mat-option *ngFor="let week of weeks" [value]="week">{{week}}</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="table-container">
  <table >
    <thead>
      <tr>
        <th>Id tache</th>
        <th>Liste des utilisateurs</th>
        <th>Nom</th>
        <th>Type de tâche</th>
        <th>Date</th>
        <th>Durée </th>
        <th>Commentaires </th>
        <th>Projet </th>
        <th>Modifier</th>
        <th>Supprimer</th>
        <th>Dupliquer</th>

      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tache of filteredTaches">
        <td>{{ tache.idTache}}</td>
        <td>{{ tache.listIdUtilisateurs}}</td>
        <td>{{ tache.nomTache}}</td>
        <td>{{ tache.libelleTypeTache}}</td>
        <td>{{ tache.dateTache | date: 'dd/MM/yyyy'  }}</td>
        <td>{{ tache.dureeTache }}</td>
        <td>{{ tache.commentaires }}</td>
        <td>{{ tache.nomProjet }}</td>
        <td><button [routerLink]="['/formUpdateTache']" [queryParams]="{ id: tache.idTache }">Modifier</button></td>
        <td><button (click)="getDetailsAndDeleteTache(tache.idTache)">Supprimer</button></td>
        <td><button (click)="onDuplicateTache(tache.idTache, tache)">Dupliquer</button></td>
      </tr>
    </tbody>
  </table>
</div>
<div class="create-tache" >
    <p>Ajouter une tâche</p>
    <img src="/assets/img/PlusVert.png" [routerLink]="['/formCreateTache']" alt="Ajout d'une tâche">
</div>


