<div class="liste">
    <h3>SUIVI DES PROJETS - CONSOMMATION</h3>
    <form class="filtrage" [formGroup]="formFiltrage">
        <select title="noms-clients" id="noms-clients" autocomplete formControlName="clientRecherche"
            (change)="onSearch()">
            <option value="" disabled [selected]="formFiltrage.controls['clientRecherche'].value == ''">
                -- Sélectionner
                un client --</option>
            <option value="tous">Tous les clients</option>
            @for (nomClient of listNomsClient; track $index) {
            <option [value]="nomClient">{{ nomClient }}</option>
            }
        </select>
        <label>Projets terminés</label>
        <input title="projetsTermines" type="checkbox" checked="false" formControlName="projetsTermines"
            (change)="onCheck($event)">
    </form>

    <div class="table">
        <table border="2">
            <thead>
                <tr>
                    <th>Client</th>
                    <th>Nom du projet</th>
                    <th>Devis estimé</th>
                    <th>Etat du projet</th>
                    @for (annee of listAnneesTaches; track $index) {
                        @if (annee == 0) { <!-- Pour le cas d'affichage de la durée totale pour un suivi projet -->
                            <th>Total</th>
                        } @else {
                            <th>{{ annee }}</th>
                        }
                    }
                </tr>
            </thead>
            <tbody id="table-body-suivi-projets">
                <!-- Remplissage du tableau via la méthode onLoadTable(data: SuiviProjet[]) du fichier ts-->
            </tbody>
        </table>
    </div>
</div>