<div id="liste">
    <h3>LISTE DES UTILISATEURS</h3>
    <!-- Ajouter listes déroulantes dynamiques et (submit)=onSubmit() pour le filtrage-->
    <form id="filtrage" [formGroup]="formFiltrage">
        <label for="filtrage-demande"></label>
        <select name="filtrage-demande" id="filtrage-demande" formControlName="filtrageDemande" (change)="updateFiltrage()">
            <option [value]="valeurParDefautList" [selected]="formFiltrage.value.filtrageDemande == ''">Sélectionner un filtre</option>
            <option value="Par nom d'utilisateur">Rechercher par nom d'utilisateur</option>
            <option value="Par type d'utilisateur">Rechercher par type d' utilisateur</option>
            <option value="Par nom de site">Rechercher par nom de site</option>
        </select>
        <label for="utilisateur-recherche"></label>
        <input type="text" name="utilisateur-recherche" id="utilisateur-recherche" formControlName="utilisateurRecherche" (input)="onInputChange()">
        <label for="btn-soumission"></label>
        <input type="submit" name="btn-soumission" id="btn-soumission" formControlName="boutonSoumission">
    </form>

    <!-- Modifier table : ajouter des colonnes éventuellement -->
    <div id="table">
        <table border="2">
            <tbody>
                <tr>
                    <th>Login</th>
                    <th>Prénom</th>
                    <th>Nom</th>
                    <th>Mail</th>
                    <th>Actif</th>
                    <th>Site</th>
                    <th>Type utilisateur</th>
                    <th>Modifier</th>
                    <th>Supprimer</th>
                </tr>
                @for (utilisateur of listUtilisateurs; track $index) {
                    <tr id="{{ utilisateur.idUtilisateur }}">
                        <td>{{ utilisateur.login }}</td>
                        <td>{{ utilisateur.prenomUtilisateur }}</td>
                        <td>{{ utilisateur.nomUtilisateur }}</td>
                        <td>{{ utilisateur.mail }}</td>
                        <td>{{ utilisateur.actif }}</td>
                        <td>{{ utilisateur.idSite }}</td>
                        <td>{{ utilisateur.idTypeUtilisateur }}</td>
                        <!-- Gérer les opérations CRUD liées au boutons ci-dessous via l'API-->
                        <td><button type="button" (click)="onUpdateUtilisateur()">Modifier</button></td>
                        <td><button type="button" (click)="onDeleteUtilisateur($event)">Supprimer</button></td>
                    </tr>
                }
                
            </tbody>
        </table>
    </div>
    

</div>